<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="color-scheme" content="dark light" />
<meta name="description" content="Web application that reads text and shows translations. Useful for listening practice when learning a new language." />
<link rel="stylesheet" href="assets/common.css" />
<link rel="stylesheet" href="assets/app.css" />
<link rel="modulepreload" href="./code/web.js" />
<link rel="modulepreload" href="./code/fetchers.js" />
<link rel="modulepreload" href="./code/parser.js" />
<link rel="modulepreload" href="./code/csv.js" />
<link rel="modulepreload" href="./code/trin.js" />
<link rel="modulepreload" href="./code/trinUI.js" />
<script type="module" src="code/web.js"></script>
<title>Narrator WS</title>
</head>

<body>
<div id="non-footer">
    <header>Narrator with Subtitles</header>
    <div class="inner">
        <ul id="msg-list"></ul>
        <div id="newbie-info">
<p>
This is a web app to help with language learning.
It displays an <i>article</i> along with translations
and audio to help you practice reading and listening.
</p>

<p>
To begin, click 'Open' from the toolbar below.
You can read one of the built-in articles, or you can upload your own file if you have one.
</p>

<p>
To learn more about the app, click the 'Help' button in the toolbar.
</p>
        </div>
        <main id="main" class="numheads"></main>
    </div>
</div>

<footer id="footer">
<div id="spotlight">
    <div id="spotlight-inner"></div>
    <span id="spotlight-collapse-btn" class="collapse-btn"></span>
</div>
<div class="toolbar">
    <button id="button-open" title="Open">
        <svg class="icon" id="icon-open"><use xlink:href="assets/icons.svg#fa-file-circle-plus"/></svg>
        <span class="label">Open</span>
    </button>
    <button id="button-about" title="Help">
        <svg class="icon" id="icon-about"><use xlink:href="assets/icons.svg#fa-question"/></svg>
        <span class="label">Help</span>
    </button>

    <div class="gas"></div>
    <button disabled id="button-prev" title="Previous">
        <svg class="icon" id="icon-prev"><use xlink:href="assets/icons.svg#fa-step-backward"/></svg>
        <span class="label">Prev</span>
    </button>
    <button disabled id="button-play" title="Play" data-state="paused">
        <svg class="icon" id="icon-play"><use xlink:href="assets/icons.svg#fa-play"/></svg>
        <svg class="icon" id="icon-pause"><use xlink:href="assets/icons.svg#fa-pause"/></svg>
        <span class="label"></span>
    </button>
    <button disabled id="button-next" title="Next">
        <svg class="icon" id="icon-next"><use xlink:href="assets/icons.svg#fa-step-forward"/></svg>
        <span class="label">Next</span>
    </button>
    <div class="gas"></div>

    <button disabled id="button-text-settings" title="Text Settings">
        <svg class="icon" id="icon-text-settings"><use xlink:href="assets/icons.svg#fa-gear"/></svg>
        <span class="label">Settings</span>
    </button>
    <button disabled id="button-voice-settings" title="Voice Settings">
        <svg class="icon" id="icon-volume-settings"><use xlink:href="assets/icons.svg#fa-volume-high"/></svg>
        <span class="label">Voice</span>
    </button>
</div>
</div>
</footer>

<div class="hidden">
    <input type="file" id="file-loader" accept=".html,application/html,.csv,text/csv" />
</div>
<div id="modal-group">
    <div id="open-menu" class="menu disabled">
        <header>
            <div class="heading">Load an article</div>
            <div class="close-btn"></div>
        </header>
        <div id="open-body" class="menu-body button-group">
            <div id="button-enlist" class="menu-item">Choose from built-in collection</div>
            <div id="button-upload" class="menu-item">Upload a file</div>
            <div id="button-edit" class="menu-item">Paste or write text</div>
        </div>
    </div>
    <div id="enlist-menu" class="menu disabled">
        <header>
            <div id="enlist-back" class="back-btn"></div>
            <div class="heading">Built-in articles</div>
            <div class="close-btn"></div>
        </header>
        <div id="enlist-body" class="menu-body button-group"></div>
    </div>
    <div id="edit-menu" class="menu disabled">
        <header>
            <div id="edit-back" class="back-btn"></div>
            <div class="heading">Paste or write text</div>
            <div class="close-btn"></div>
        </header>
        <form id="edit-form" class="menu-body">
            <div class="menu-row">
                <label class="menu-item" for="edit-lang">Language</label>
                <select class="menu-item" id="edit-lang" name="edit-lang" required="required"></select>
            </div>
            <textarea id="edit-text" class="menu-item"
                name="edit-text" rows="8" cols="80" required="required"></textarea>
            <button id="edit-submit" class="menu-item" type="submit">Submit</button>
        </form>
    </div>
    <div id="about-menu" class="menu disabled">
        <header>
            <div class="heading">About</div>
            <div class="close-btn"></div>
        </header>
        <div class="menu-body all-ch-mi">
<p>
<strong>Narrator with Subtitles</strong> is a web application to aid in language learning.
</p>
<p>
For some languages (like those of India other than Hindi), there are very few resources to practice listening skills.
Listening to everyday conversations or watching videos may be difficult for beginners because natural conversations are fast, use a wide vocabulary, and may have non-standard accents and slang.
</p>
<p>
Some languages have good textual resources but not good spoken resources.
This is where <em>Narrator with Subtitles</em> can help.
It speaks out text using a text-to-speech engine and enables easy navigation across sentences in a lesson.
Other features:
</p>
<ol>
    <li>Adjust speech speed.</li>
    <li>See translations of sentences (if available).</li>
    <li>Transliterate among Indic scripts.</li>
</ol>
<p>
To use this web app, you must first open a file.
To do this, first click the 'Open' button,
and then either pick a file from the built-in collection or upload a csv, html, or txt file.
</p>
<p>
The text-to-speech feature may not work for some languages,
depending on your browser and your operating system,
but you may be able to <a href="doc.html#text-to-speech">install text-to-speech engines</a> to make it work.
</p>
<p>
See the <a href="doc.html" target="_blank">full documentation</a> for more information on using this app,
troubleshooting common issues, and creating your own files.
</p>
<p>
Source code: <a href="https://github.com/sharmaeklavya2/narrator-ws" target="_blank">github:<wbr>sharmaeklavya2/narrator-ws</a>.
</p>
        </div>
    </div>
    <div id="text-settings-menu" class="menu disabled">
        <header>
            <div class="heading">Text settings</div>
            <div class="close-btn"></div>
        </header>
        <div id="text-settings-form" class="menu-body">
            <div class="menu-item">Language: <span id="src-lang"></span></div>
            <div class="menu-row">
                <label class="menu-item" for="text-size">Text&nbsp;size:</label>
                <input class="menu-item" id="text-size" type="range" min="0.5" max="2" value="1" step="0.1"/>
                <span class="menu-item slider-number" id="text-size-number"></span>
            </div>
            <div id="trn-langs-none" class="menu-item hidden">
                No translations available.
            </div>
            <div id="trn-langs-one" class="menu-item hidden">
                Translation language: <span id="trn-lang-default"></span>
            </div>
            <div id="trn-langs-multiple" class="hidden"></div>
            <div class="menu-row">
                <label class="menu-item" for="trin-lang">Transliterate Indic text to:</label>
                <select class="menu-item" id="trin-lang"></select>
            </div>
            <div class="menu-row">
                <input type="checkbox" class="menu-item" id="trin-hov" />
                <label class="menu-item" for="trin-hov">Transliterate on hover only?</label>
            </div>
        </div>
    </div>
    <div id="voice-settings-menu" class="menu disabled">
        <header>
            <div class="heading">Voice settings</div>
            <div class="close-btn"></div>
        </header>
        <div id="voice-settings-form" class="menu-body">
            <div class="menu-item">Voice: <span id="voice-info"></span></div>
            <div id="speech-policy-group" class="menu-col">
                <label class="menu-row" id="sp-label-on-demand">
                    <input class="menu-item" id="sp-on-demand" type="radio" name="speech-policy" value="on-demand"/>
                    <span class="menu-item">Speak only when the â–¶ button is pressed.</span>
                </label>
                <label class="menu-row" id="sp-label-proactive">
                    <input class="menu-item" id="sp-proactive" type="radio" name="speech-policy" value="proactive" checked/>
                    <span class="menu-item">Speak when moving to a new sentence.</span>
                </label>
                <label class="menu-row" id="sp-label-continuous">
                    <input class="menu-item" id="sp-continuous" type="radio" name="speech-policy" value="continuous"/>
                    <span class="menu-item">Keep speaking sentences one-after-the-other.</span>
                </label>
            </div>
            <div class="menu-row">
                <label class="menu-item" for="voice-speed">Speed:</label>
                <input class="menu-item" id="voice-speed" type="range" min="0.1" max="1" value="0.8" step="0.1"/>
                <span class="menu-item slider-number" id="voice-speed-number"></span>
            </div>
        </div>
    </div>
    <div id="modal-overlay" class="overlay"></div>
</div>
</body>
</html>
