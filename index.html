<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="color-scheme" content="dark light" />
<meta name="description" content="Web application that reads text and shows translations. Useful for listening practice when learning a new language." />
<link rel="stylesheet" href="assets/style.css" />
<link rel="modulepreload" href="./code/web.js" />
<link rel="modulepreload" href="./code/fetchers.js" />
<link rel="modulepreload" href="./code/parser.js" />
<link rel="modulepreload" href="./code/csv.js" />
<link rel="modulepreload" href="./code/trin.js" />
<link rel="modulepreload" href="./code/trinUI.js" />
<script type="module" src="code/web.js"></script>
<title>Narrator WS</title>
</head>

<body>
<div id="non-footer">
    <header>Narrator with Subtitles</header>
    <div class="inner">
        <ul id="msg-list"></ul>
        <main id='main'></main>
    </div>
</div>

<footer id="footer">
<div id="spotlight-parent">
    <div id="spotlight"></div>
    <span id="spotlight-collapse-btn" class="collapse-btn"></span>
</div>
<div class="toolbar">
    <button id="button-open" title="Open">
        <svg class="icon" id="icon-open"><use xlink:href="assets/icons.svg#fa-file-circle-plus"/></svg>
    </button>
    <button id="button-about" title="About">
        <svg class="icon" id="icon-about"><use xlink:href="assets/icons.svg#fa-question"/></svg>
    </button>

    <div class="gas"></div>
    <button disabled id="button-prev" title="Prev">
        <svg class="icon" id="icon-prev"><use xlink:href="assets/icons.svg#fa-step-backward"/></svg>
    </button>
    <button disabled id="button-play" title="Play" data-state="paused">
        <svg class="icon" id="icon-play"><use xlink:href="assets/icons.svg#fa-play"/></svg>
        <svg class="icon" id="icon-pause"><use xlink:href="assets/icons.svg#fa-pause"/></svg>
    </button>
    <button disabled id="button-next" title="Next">
        <svg class="icon" id="icon-next"><use xlink:href="assets/icons.svg#fa-step-forward"/></svg>
    </button>
    <div class="gas"></div>

    <button disabled id="button-text-settings" title="Text Settings">
        <svg class="icon" id="icon-text-settings"><use xlink:href="assets/icons.svg#fa-gear"/></svg>
    </button>
    <button disabled id="button-voice-settings" title="Voice Settings">
        <svg class="icon" id="icon-volume-settings"><use xlink:href="assets/icons.svg#fa-volume-high"/></svg>
    </button>
</div>
</div>
</footer>

<div class="hidden">
    <input type="file" id="file-loader" accept=".html,application/html,.csv,text/csv" />
</div>
<div id="modal-group">
    <div id="open-menu" class="menu disabled">
        <header>
            <div class="heading">Load an article</div>
            <div class="close-btn"></div>
        </header>
        <div id="open-body" class="menu-body button-group">
            <div id="button-enlist" class="menu-item">Choose from built-in collection</div>
            <div id="button-upload" class="menu-item">Upload an article</div>
            <div id="button-edit" class="menu-item">Paste or write text</div>
        </div>
    </div>
    <div id="enlist-menu" class="menu disabled">
        <header>
            <div id="enlist-back" class="back-btn"></div>
            <div class="heading">Built-in articles</div>
            <div class="close-btn"></div>
        </header>
        <div id="enlist-body" class="menu-body button-group"></div>
    </div>
    <div id="edit-menu" class="menu disabled">
        <header>
            <div id="edit-back" class="back-btn"></div>
            <div class="heading">Paste or write text</div>
            <div class="close-btn"></div>
        </header>
        <form id="edit-form" class="menu-body">
            <div class="menu-row">
                <label class="menu-item" for="edit-lang">Language</label>
                <select class="menu-item" id="edit-lang" name="edit-lang" required="required"></select>
            </div>
            <textarea id="edit-text" class="menu-item"
                name="edit-text" rows="8" cols="80" required="required"></textarea>
            <button id="edit-submit" class="menu-item" type="submit">Submit</button>
        </form>
    </div>
    <div id="about-menu" class="menu disabled">
        <header>
            <div class="heading">About</div>
            <div class="close-btn"></div>
        </header>
        <div class="menu-body">
            <p class="menu-item">
<strong>Narrator with Subtitles</strong> is a web application to aid in language learning.
It is especially useful when good written resources are available but audio resources aren't.
            </p>
            <p class="menu-item">
This web app enables easy navigation across sentences and speaks them using a text-to-speech engine.
Other features:
            </p>
            <ol class="menu-item">
                <li>Adjust speech speed (especially useful for beginners).</li>
                <li>See translations of sentences.</li>
                <li>Transliterate among Indic scripts.</li>
            </ol>
            <p class="menu-item">
To use this web application, you must either choose an article from the built-in collection
or upload a csv, html, or txt file.
            </p>
            <p class="menu-item">
To create your own article file, see these examples:
<a href="https://github.com/sharmaeklavya2/narrator-ws/blob/main/articles/sk1/02.csv">csv</a>,
<a href="https://github.com/sharmaeklavya2/narrator-ws/blob/main/articles/ict/33.html">html</a>,
<a href="https://github.com/sharmaeklavya2/narrator-ws/blob/main/articles/clarinette.fr.txt">txt</a>.
You can view and edit CSV files using <a href="https://sheets.google.com">Google Sheets</a> or macOS Numbers.
Microsoft Excel also works, but you may have to work around encoding-related issues.
When saving a CSV file in Excel, ensure that you select 'CSV UTF-8' as the file format.
If you have trouble opening CSV files in Excel, follow <a href="https://support.microsoft.com/en-us/office/opening-csv-utf-8-files-correctly-in-excel-8a935af5-3416-4edd-ba7e-3dfd2bc4a032">these steps by Microsoft</a>.
            </p>
            <p class="menu-item">
This web app's source code can be found at
<a href="https://github.com/sharmaeklavya2/narrator-ws">github:<wbr>sharmaeklavya2/narrator-ws</a>.
            </p>
        </div>
    </div>
    <div id="text-settings-menu" class="menu disabled">
        <header>
            <div class="heading">Text settings</div>
            <div class="close-btn"></div>
        </header>
        <div id="text-settings-form" class="menu-body">
            <div class="menu-item">Language: <span id="src-lang"></span></div>
            <div class="menu-row">
                <label class="menu-item" for="text-size">Text&nbsp;size:</label>
                <input class="menu-item" id="text-size" type="range" min="0.5" max="2" value="1" step="0.1"/>
                <span class="menu-item slider-number" id="text-size-number"></span>
            </div>
            <div class="menu-item">Translation language preference order (click to move up):</div>
            <ol id="trn-lang-list" class="menu-item orderable"></ol>
            <div class="menu-row">
                <label class="menu-item" for="trin-lang">Transliterate Indic text to:</label>
                <select class="menu-item" id="trin-lang"/></select>
            </div>
            <div class="menu-row">
                <input type="checkbox" class="menu-item" id="trin-hov"/></input>
                <label class="menu-item" for="trin-hov">Transliterate on hover only?</label>
            </div>
        </div>
    </div>
    <div id="voice-settings-menu" class="menu disabled">
        <header>
            <div class="heading">Voice settings</div>
            <div class="close-btn"></div>
        </header>
        <div id="voice-settings-form" class="menu-body">
            <div class="menu-item">Voice: <span id="voice-info"></span></div>
            <div id="speech-policy-group" class="menu-col">
                <label class="menu-row" id="sp-label-on-demand">
                    <input class="menu-item" id="sp-on-demand" type="radio" name="speech-policy" value="on-demand"/>
                    <span class="menu-item">Speak only when the â–¶ button is pressed.</span>
                </label>
                <label class="menu-row" id="sp-label-proactive">
                    <input class="menu-item" id="sp-proactive" type="radio" name="speech-policy" value="proactive" checked/>
                    <span class="menu-item">Speak when moving to a new sentence.</span>
                </label>
                <label class="menu-row" id="sp-label-continuous">
                    <input class="menu-item" id="sp-continuous" type="radio" name="speech-policy" value="continuous"/>
                    <span class="menu-item">Keep speaking sentences one-after-the-other.</span>
                </label>
            </div>
            <div class="menu-row">
                <label class="menu-item" for="voice-speed">Speed:</label>
                <input class="menu-item" id="voice-speed" type="range" min="0.1" max="1" value="0.8" step="0.1"/>
                <span class="menu-item slider-number" id="voice-speed-number"></span>
            </div>
        </div>
    </div>
    <div id="modal-overlay" class="overlay"></div>
</div>
</body>
</html>
